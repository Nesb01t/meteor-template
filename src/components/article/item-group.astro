---
import ArticleItem from './item.astro';
import { type Article, parseArticles } from '../../utils/glob';

const posts = await Astro.glob('../../../articles/**/*.md');
const articles: Article[] = parseArticles(posts);
const timeSortedArticles = articles.sort((a, b) => {
  return new Date(b.date).getTime() - new Date(a.date).getTime();
});
---

<>
  {timeSortedArticles.map((a) => <ArticleItem class="w-full" article={a} />)}
</>
